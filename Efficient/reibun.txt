本手法における判定性能の評価には、混同行列（Confusion Matrix）を用いた。混同行列は、分類モデルの予測結果と正解ラベルとの対応関係を表形式で示す評価指標であり、各クラスに対する判定結果を定量的に把握することができる。

混同行列では、縦軸に実際の正解クラス、横軸にモデルによる予測クラスを配置し、それぞれの組み合わせにおけるサンプル数または割合を示す。対角成分は正しく分類されたサンプルを表し、非対角成分は誤分類されたサンプルを表す。これにより、どのクラスが正しく判定され、どのクラス間で誤判定が発生しやすいかを視覚的に確認することが可能となる。

本研究における画像分類モデルの性能評価では、推論結果として得られた混同行列（割合および画像枚数）に着目し、安全姿勢および危険姿勢を正しく分類できているかを重要な評価観点とした。具体的には、安全状態を正しく安全と分類できた割合、危険状態を正しく危険と分類できた割合を確認するとともに、安全状態を危険と誤分類した割合、および危険状態を安全と誤分類した割合を算出し、判定の妥当性を評価した。特に、危険状態を安全と誤判定するケースは安全管理の観点から重大な問題となるため、重要な評価指標として扱った。

さらに、混同行列から算出される各クラスごとの Precision、Recall、F1-score を用いて、判定性能を多角的に評価した。Precision は、モデルが特定のクラスであると予測したサンプルのうち、実際に正解であった割合を示す指標であり、誤検出の少なさを表す。一方、Recall は、実際に特定のクラスに属するサンプルのうち、モデルが正しく検出できた割合を示す指標であり、見逃しの少なさを表す。本研究では特に、危険クラスにおける Recall を重要な評価指標として位置付けた。

F1-score は Precision と Recall の調和平均を取った指標であり、誤検出と見逃しの両方を考慮した総合的な判定性能を評価するために用いた。これらの指標を併用することで、単一の指標では把握できない判定傾向を明確にし、モデルの特性を詳細に分析した。

また、本手法の評価結果については、前回のモデルにおける混同行列および各評価指標と比較し、正解率の向上や誤判定の減少が確認できるかを基準として性能評価を行った。この比較により、モデル構造や学習条件の違いが判定性能に与える影響を確認した。

以上の方法により、画像分類モデルの判定性能を総合的に評価した。



前節で述べた評価方法に基づき、EfficientNetV2 を用いた画像分類モデルの性能評価結果を以下に示す。

まず、推論結果から得られた混同行列（割合）を図◯◯に示す。混同行列の対角成分に着目すると、多くのクラスにおいて高い値を示しており、全体として各作業姿勢クラスが概ね正しく分類されていることが確認できる。一方で、脚立上の姿勢や立馬上の姿勢など、動作や見た目が類似したクラス間においては、一定の誤分類が発生していることが分かる。

次に、混同行列（画像枚数）を図◯◯に示す。割合だけでなく実際の誤判定数を確認することで、データ数の多いクラスにおいて誤分類が集中していないかを確認した。その結果、正しく分類された画像が多数を占めている一方で、一部のクラスでは誤判定が一定数発生していることが確認された。

安全・危険の判定結果に着目すると、安全状態および危険状態を正しく分類できた割合は○○％であった。また、安全状態を危険状態として誤分類した割合は○○％、危険状態を安全状態として誤分類した割合は○○％であり、特に後者については安全管理の観点から重要な指標として位置付けられる。これらの結果から、全体として高い判定性能を示しているものの、危険状態の見逃しが完全には解消されていないことが分かる。

さらに、各クラスごとの Precision、Recall、F1-score を表◯◯に示す。脚立や立馬といった単純な姿勢クラスでは、Precision および Recall が高い値を示しており、安定した判定が行われていることが確認された。一方で、脚立上の不安定姿勢や段数の異なる脚立作業などのクラスでは、Recall が相対的に低下しており、危険状態を別クラスとして誤分類する傾向が見られた。

F1-score を確認すると、Precision と Recall のバランスが取れているクラスでは高い値を示している一方、姿勢の判別が難しいクラスでは値が低下していることが分かる。このことから、EfficientNetV2 は全体として有効な判定性能を有しているものの、姿勢の類似性が高いクラスに対しては今後の改善が必要であると考えられる。

以上の結果より、EfficientNetV2 を用いた画像分類モデルは、作業姿勢に基づく安全・危険判定において一定の有効性を示すことが確認された。


表6.7.1にクラスごとの Precision、Recall、F1-score を示す。以下では、各クラスにおける判定性能の特徴について述べる。

脚立および立馬クラスでは、Precision、Recall ともに高い値を示しており、単純な作業姿勢に対しては安定した判定が行われていることが確認された。また、「その他の人」クラスにおいても、Precision、Recall、F1-score がいずれも高い値を示しており、背景人物や非対象者に対する誤判定が比較的少ないことが分かる。

一方で、「脚立上の安全な人」クラスでは Recall は高い値を示しているものの、Precision が相対的に低下しており、安全姿勢を他クラスとして誤分類するケースが一定数存在することが確認された。これにより、当該クラスにおいては誤検出が課題となっている。

「脚立1段目の人」クラスでは Precision が非常に高い一方で、Recall がやや低下しており、該当姿勢を見逃す傾向が見られた。「脚立2段目の人」クラスでは Precision、Recall ともに低い値を示しており、段数の違いによる姿勢判別が困難であることが示唆される。

また、「脚立を跨ぐ人」および「脚立上の不安定姿勢の人」クラスでは、Precision と Recall のいずれも中程度の値に留まっており、姿勢のばらつきや類似動作との判別が難しいクラスであることが分かる。

立馬を使用した作業姿勢においても同様の傾向が見られ、「立馬上の安全な人」クラスでは Recall が高い一方で Precision が低下しており、「立馬上の不安定姿勢の人」クラスでは Recall が低く、危険状態を正しく検出できていないケースが存在することが確認された。

以上より、EfficientNetV2 は単純かつ明確な姿勢クラスに対しては高い判定性能を示す一方で、段数の違いや不安定姿勢など、姿勢の類似性が高いクラスに対しては判定性能が低下する傾向があることが分かった。


推論結果から得られた混同行列（割合）を図6.7.1に示す。混同行列の対角成分に着目すると、「脚立」「立馬」「その他の人」といった比較的単純な姿勢クラスにおいて高い値を示しており、これらのクラスが正しく分類されていることが確認できる。また、「脚立上の安全な人」および「立馬上の安全な人」においても対角成分の値が高く、安全姿勢に対する判定が概ね適切に行われていることが分かる。

一方で、「脚立1段目の人」「脚立2段目の人」や「脚立上の不安定姿勢の人」など、姿勢の違いが細分化されたクラスでは、非対角成分に一定の値が見られ、他の脚立関連クラスへ誤分類される傾向が確認された。特に、段数の違いによる脚立作業や不安定姿勢においては、見た目や姿勢の類似性が高いため、クラス間の判別が困難であることが示唆される。

また、立馬上の作業姿勢についても同様の傾向が見られ、安全姿勢と不安定姿勢の間で誤分類が発生していることが確認された。このことから、混同行列は単に正解率を示すだけでなく、どのクラス間で誤判定が発生しやすいかを把握する上で有効であることが分かる。

以上より、本モデルは単純かつ明確な姿勢クラスに対しては高い判定性能を示す一方で、姿勢の類似性が高いクラス間においては誤分類が発生しやすい傾向があり、今後の改善点として考えられる。


安全・危険の判定結果に着目すると、安全状態および危険状態を正しく分類できた割合は 75.8% であり、作業姿勢に基づく安全・危険判定として一定の性能を有していることが確認された。一方で、安全状態を危険状態として誤分類した割合は 7.0% と比較的低く、安全姿勢を過度に危険と判定するケースは限定的であるといえる。

しかしながら、危険状態を安全状態として誤分類した割合は 60.8% であり、危険姿勢の一部が安全姿勢として判断されていることが明らかとなった。この誤分類は、安全管理の観点からは特に注意を要する結果であり、実運用においては危険状態の見逃しにつながる可能性がある。

これらの結果から、本モデルは全体として安全・危険判定において一定の有効性を示しているものの、危険姿勢の検出精度については改善の余地が残されていることが分かる。特に、姿勢の違いが微妙なクラス間においては誤判定が発生しやすく、今後は危険姿勢に対する判別性能の向上が課題であると考えられる。

以上より、本画像分類モデルは作業姿勢に基づく安全・危険判定において基礎的な判定性能を有していることが確認されたが、危険状態の見逃し低減に向けたモデル改良や判定手法の工夫が今後の検討課題である。






PatchCore による異常検知結果の評価には、混同行列による定量評価に加え、異常スコアの空間的分布を可視化したヒートマップを用いた。

PatchCore では、入力画像中の各局所領域に対して異常度（異常スコア）を算出し、その分布をヒートマップとして出力する。ヒートマップでは、異常度の高い領域ほど高輝度（または暖色系）で表示され、正常と判断された領域は低輝度（寒色系）で表示される。この可視化により、モデルが画像中のどの領域を異常と判断したかを直感的に確認することが可能である。
ヒートマップを用いた評価では、異常と判定された画像において、異常スコアが実際の危険姿勢や不安定な作業箇所に集中しているかを確認した。具体的には、脚立上での不安定姿勢や立馬上での危険姿勢が存在する部位に対して、高い異常スコアが付与されているかを評価指標とした。

一方、正常画像に対しては、作業者の姿勢や周辺環境に対して過剰に高い異常スコアが発生していないかを確認し、誤検知の有無を評価した。
混同行列による評価では、異常・正常の判定精度を定量的に評価できる一方で、誤判定が生じた要因を把握することは難しい。そのため、本研究ではヒートマップを併用し、誤判定が発生した画像に対して、異常スコアが集中している領域を確認することで、モデルの判断根拠を定性的に分析した。
これらのヒートマップを用いた定性的評価と、混同行列による定量評価を組み合わせることで、PatchCore による異常検知モデルの有効性および課題点を総合的に評価した。